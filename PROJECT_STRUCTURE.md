# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ CrimeVision.kz

```
LUPIC/
‚îÇ
‚îú‚îÄ‚îÄ üìÑ main.py                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (FastAPI)
‚îú‚îÄ‚îÄ üìÑ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ üìÑ load_sample_data.py        # –°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îú‚îÄ‚îÄ üìÅ app/                       # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ api.py                    # API endpoints (—Ä–æ—É—Ç–∏–Ω–≥)
‚îÇ   ‚îú‚îÄ‚îÄ database.py               # –†–∞–±–æ—Ç–∞ —Å SQLite –ë–î
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ services/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ data_service.py       # –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è—Ö
‚îÇ       ‚îú‚îÄ‚îÄ ml_service.py         # ML –º–æ–¥–µ–ª–∏ (–ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤)
‚îÇ       ‚îî‚îÄ‚îÄ gis_service.py        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç –∏ –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îú‚îÄ‚îÄ üìÅ templates/                 # HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.html                # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Dashboard)
‚îÇ
‚îú‚îÄ‚îÄ üìÅ static/                    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
‚îÇ   ‚îî‚îÄ‚îÄ .gitkeep
‚îÇ
‚îú‚îÄ‚îÄ üìÅ data/                      # –î–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ sample_crimes.csv         # –ü—Ä–∏–º–µ—Ä –¥–∞—Ç–∞—Å–µ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ crime_vision.db           # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ
‚îî‚îÄ‚îÄ üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ README.md                 # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ QUICKSTART.md             # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
    ‚îú‚îÄ‚îÄ PRESENTATION.md           # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏
    ‚îî‚îÄ‚îÄ PROJECT_STRUCTURE.md      # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üîç –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Backend (Python/FastAPI)

**main.py**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏ —à–∞–±–ª–æ–Ω–æ–≤
- –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

**app/api.py**
- –í—Å–µ REST API endpoints
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –í—ã–∑–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**app/database.py**
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SQLite –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü (crimes)
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

### Services (–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)

**app/services/data_service.py**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –†–∞–±–æ—Ç–∞ —Å–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º–∏ (—Ä–µ–≥–∏–æ–Ω—ã, —Ç–∏–ø—ã –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–π)

**app/services/ml_service.py**
- –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (Linear Regression)
- –û—Ü–µ–Ω–∫–∞ —É—Ä–æ–≤–Ω—è —Ä–∏—Å–∫–∞ (–Ω–∏–∑–∫–∏–π/—Å—Ä–µ–¥–Ω–∏–π/–≤—ã—Å–æ–∫–∏–π)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤

**app/services/gis_service.py**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–ø–ª–æ–≤—ã—Ö –∫–∞—Ä—Ç (Folium/Leaflet)
- –†–∞–±–æ—Ç–∞ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö

### Frontend

**templates/index.html**
- –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- Bootstrap 5 –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- Plotly –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- Leaflet –¥–ª—è –∫–∞—Ä—Ç
- JavaScript –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

---

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
CSV —Ñ–∞–π–ª ‚Üí DataService ‚Üí SQLite –ë–î
                              ‚Üì
                        API Endpoints
                              ‚Üì
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚Üì                   ‚Üì
              ML Service          GIS Service
                    ‚Üì                   ‚Üì
              –ü—Ä–æ–≥–Ω–æ–∑          –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞
                    ‚Üì                   ‚Üì
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚Üì
                      Frontend (Dashboard)
```

---

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞: `crimes`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | INTEGER | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á |
| `date` | DATE | –î–∞—Ç–∞ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è |
| `region` | TEXT | –†–µ–≥–∏–æ–Ω |
| `city` | TEXT | –ì–æ—Ä–æ–¥ |
| `crime_type` | TEXT | –¢–∏–ø –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è |
| `latitude` | REAL | –®–∏—Ä–æ—Ç–∞ |
| `longitude` | REAL | –î–æ–ª–≥–æ—Ç–∞ |
| `severity` | INTEGER | –¢—è–∂–µ—Å—Ç—å (1-5) |
| `created_at` | TIMESTAMP | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ |

**–ò–Ω–¥–µ–∫—Å—ã:**
- `idx_date` ‚Äî –Ω–∞ –ø–æ–ª–µ `date`
- `idx_region` ‚Äî –Ω–∞ –ø–æ–ª–µ `region`
- `idx_crime_type` ‚Äî –Ω–∞ –ø–æ–ª–µ `crime_type`

---

## üîå API Endpoints

### –î–∞–Ω–Ω—ã–µ
- `POST /api/upload` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ CSV
- `GET /api/stats/summary` ‚Äî –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/crimes` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–π

### –ì–µ–æ–∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- `GET /api/heatmap` ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–ø–ª–æ–≤–æ–π –∫–∞—Ä—Ç—ã
- `GET /api/map` ‚Äî HTML –∫–∞—Ä—Ç—ã

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- `GET /api/analytics/timeline` ‚Äî –¥–∏–Ω–∞–º–∏–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- `GET /api/analytics/regions` ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–æ–≤

### ML
- `GET /api/forecast` ‚Äî –ø—Ä–æ–≥–Ω–æ–∑
- `GET /api/risk-assessment` ‚Äî –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
- `GET /api/regions` ‚Äî —Å–ø–∏—Å–æ–∫ —Ä–µ–≥–∏–æ–Ω–æ–≤
- `GET /api/crime-types` ‚Äî —Ç–∏–ø—ã –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–π

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
|-----------|------------|
| **Backend Framework** | FastAPI |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | SQLite |
| **ML/Analytics** | pandas, numpy, scikit-learn |
| **–ö–∞—Ä—Ç—ã** | Folium, Leaflet |
| **–ì—Ä–∞—Ñ–∏–∫–∏** | Plotly |
| **Frontend** | HTML5, Bootstrap 5, JavaScript |
| **Templates** | Jinja2 |

---

## üìù –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∫–∞–∑–∞–Ω—ã –≤ `requirements.txt`:
- FastAPI ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- uvicorn ‚Äî ASGI —Å–µ—Ä–≤–µ—Ä
- pandas ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- numpy ‚Äî —á–∏—Å–ª–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- scikit-learn ‚Äî –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
- folium ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç
- plotly ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
- jinja2 ‚Äî —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏—è

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ: `python load_sample_data.py`
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä: `python main.py`
4. –û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä: http://localhost:8000

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ [QUICKSTART.md](QUICKSTART.md)

---

**–°–æ–∑–¥–∞–Ω–æ –¥–ª—è —Ö–∞–∫–∞—Ç–æ–Ω–∞** üéâ

